##  间隙锁

间隙锁（Gap Lock）：基于非唯一索引、它锁定一段范围的索引记录。

使用间隙锁锁住的是一个区间，而不仅仅是区间中的每一条数据。

```sql
SELECT * FROM table WHERE id BETWEEN 1 AND 4 FOR UPDATE
```

在所有（1，4）区间内的记录行都会被锁住，所有 id 为 2、3 的数据行的插入会被阻塞，

但是 1 和 4 的两条记录行不会被锁住。



通过行锁 + 间隙锁 = 临建锁，防止幻读，实现可重复读隔离级别